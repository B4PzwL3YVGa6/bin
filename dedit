#!/bin/dash
#
# http://github.com/mitchweaver/dedit
#
# dedit: Use dmenu to open and edit a file from a given list.
#

FOLDERS="${HOME}/etc \
         ${HOME}/etc/config \
         ${HOME}/bin \
         ${HOME}/usr/startpage \
         ${HOME}/tmp \
         ${HOME}/var/tmp \
         ${HOME}/var/files \
         ${HOME}/var/downloads \
         ${HOME}/var/files/commonly_edited"

editor="st -e $EDITOR"

SELECTION=$(ls $IGNORE -HLap ${FOLDERS} | sort -u | grep -v / | menu -p 'Edit:')

[ -n "$SELECTION" ] &&
    for folder in ${FOLDERS} ; do
        [ -f "$folder"/"$SELECTION" ] &&
            { $editor "$folder"/"$SELECTION" 
              exit 0 ; }
    done
